{
  "version": 3,
  "sources": ["../../src/get-started/index.ts"],
  "sourcesContent": ["window.addEventListener(\"load\", () => {\n  let debug = true;\n  const form = document.querySelector<HTMLFormElement>(\"form\");\n  if (!form) return;\n  const wTabContent = form.querySelector<HTMLDivElement>(\".w-tab-content\");\n  if (!wTabContent) return;\n  const formContentPanes =\n    wTabContent.querySelectorAll<HTMLDivElement>(\"[data-w-tab]\");\n  const tabMenu = form.querySelector<HTMLDivElement>(\".w-tab-menu\");\n  if (!tabMenu) return;\n  const tabLinks = tabMenu.querySelectorAll<HTMLAnchorElement>(\"a\");\n  if (!tabLinks) return;\n  const nextButton = form.querySelector<HTMLAnchorElement>(\n    '[wb-data=\"next-button\"]'\n  );\n  if (!nextButton) return;\n  const labels = form.querySelectorAll<HTMLLabelElement>(\"label\");\n  //   const backButton = document.querySelector<HTMLAnchorElement>('[wb-data=\"back-button\"]');\n  //   if (!backButton) return;\n  const submitButton = form.querySelector<HTMLInputElement>(\n    '[wb-data=\"submit-button\"]'\n  );\n  if (!submitButton) return;\n  debug && console.log(\"selectors finished\");\n\n  //checkIfRedirect();\n\n  // set current step to start form\n  let currentStep = 0;\n  let numberOfSteps = formContentPanes.length;\n\n  debug && console.log({ numberOfSteps });\n  debug && console.log({ currentStep });\n\n  // inputs\n  const formFields = document.querySelectorAll<HTMLInputElement>(\"input\");\n\n  const validateEmail = (value: string) => {\n    const emailValidation = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,})+$/;\n    if (value.match(emailValidation)) {\n      return true;\n    }\n    return false;\n  };\n\n  const checkInputValidity = (input: HTMLInputElement) => {\n    let { type, value, checked } = input;\n    if (type === \"text\") {\n      if (value.length > 0) {\n        return true;\n      } else {\n        return false;\n      }\n    } else if (type === \"email\") {\n      return validateEmail(value);\n    } else if (type === \"radio\") {\n      return checked;\n    }\n  };\n\n  const checkStepValidityAndRequired = () => {\n    const stepInputs =\n      wTabContent.children[currentStep].querySelectorAll<HTMLInputElement>(\n        \"input\"\n      );\n\n    //console.log({ stepInputs });\n    for (const input of stepInputs) {\n      let isRequired = input.required;\n      let isValid = checkInputValidity(input);\n      if (input.type === \"radio\") {\n        if (isValid) {\n          return true;\n        }\n      } else {\n        if (isRequired && !isValid) return false;\n      }\n    }\n    return true;\n  };\n\n  const updateUI = (isValid: boolean) => {\n    // last step\n    if (currentStep === numberOfSteps - 1) {\n      nextButton.classList.add(\"hide\");\n    } else {\n      nextButton.classList.remove(\"hide\");\n    }\n\n    // first step logic to redirect to demo page\n    if (currentStep === 0) {\n      const seeDemoRadio =\n        document.querySelector<HTMLInputElement>(\"#See-a-demo\");\n      if (seeDemoRadio?.checked) {\n        window.location.href = `${window.location.origin}/get-a-demo`;\n      }\n    }\n\n    // update next button\n    if (isValid) {\n      nextButton.classList.remove(\"disabled\");\n      submitButton.classList.remove(\"disabled\");\n    } else {\n      nextButton.classList.add(\"disabled\");\n      submitButton.classList.add(\"disabled\");\n    }\n  };\n  updateUI(false); // initial load\n\n  const handleFormChange = (e) => {\n    let type = e.target.type;\n    let value = e.target.value;\n    const isValid = checkStepValidityAndRequired();\n    //let isValid = checkInputValidity(type, value);\n    updateUI(isValid);\n  };\n\n  const handleNextButtonClicked = (e) => {\n    currentStep++;\n    let oncomingForm = formContentPanes[currentStep].querySelector(\"input\");\n    if (!oncomingForm) return;\n    let type = oncomingForm.type;\n    let value = oncomingForm.value;\n    let isValid = checkInputValidity(oncomingForm);\n    updateUI(Boolean(isValid));\n    tabLinks[currentStep].click();\n  };\n\n  //   const handleBackButtonClicked = (e) => {\n  //     currentStep--;\n  //     let oncomingForm = formContentPanes[currentStep].querySelector('input');\n  //     if (!oncomingForm) return;\n  //     let type = oncomingForm.type;\n  //     let value = oncomingForm.value;\n  //     let isValid = checkInputValidity(type, value);\n  //     updateUI(isValid);\n  //     tabLinks[currentStep].click();\n  //   };\n\n  const getFormData = (form: HTMLFormElement) => {\n    let fData = new FormData(form);\n    return {\n      name: fData.get(\"name\")?.toString() || \"\",\n      email: fData.get(\"email\")?.toString() || \"\",\n      phone: fData.get(\"phone\")?.toString() || \"\",\n      role: fData.get(\"role\")?.toString() || \"\",\n    };\n  };\n\n  // @ts-ignore\n  Webflow.push(function () {\n    // @ts-ignore\n    $(\"form\").submit(function () {\n      if (currentStep === numberOfSteps - 1) {\n        //backButton.classList.add('hide');\n        document\n          .querySelector(\".bg_radial-gradient\")\n          ?.classList.remove(\"opacity-0\");\n        document.querySelectorAll(\".demo-shapes\")?.forEach((demoShape) => {\n          demoShape.classList.remove(\"opacity-0\");\n        });\n\n        const form = this as HTMLFormElement;\n        const { name, email, phone, role } = getFormData(form);\n\n        const calendlyButton =\n          document.querySelector<HTMLAnchorElement>(\"#calendly-button\");\n        if (!calendlyButton) return true; // just submit the form\n        calendlyButton!.href += `?name=${encodeURIComponent(\n          name\n        )}&email=${encodeURIComponent(email)}`;\n\n        return true;\n      } else {\n        document\n          .querySelector(\".bg_radial-gradient\")\n          ?.classList.remove(\"opacity-0\");\n        document.querySelectorAll(\".demo-shapes\")?.forEach((demoShape) => {\n          demoShape.classList.remove(\"opacity-0\");\n        });\n        return true;\n        // return false\n      }\n    });\n  });\n\n  formFields.forEach((formField) => {\n    formField.addEventListener(\"input\", handleFormChange);\n  });\n\n  nextButton?.addEventListener(\"click\", handleNextButtonClicked);\n  //backButton?.addEventListener('click', handleBackButtonClicked);\n\n  document.addEventListener(\"keypress\", function (e) {\n    if (currentStep === numberOfSteps - 1) return;\n    if (e.key === \"Enter\") {\n      if (nextButton.classList.contains(\"disabled\")) return;\n      setTimeout(() => {\n        nextButton.click();\n      }, 500);\n    }\n  });\n\n  // get parameters from url\n  const urlParams = new URLSearchParams(window.location.search);\n  const isFromThankYouPage = urlParams.get(\"fromThankYouPage\");\n  if (isFromThankYouPage) {\n    // click first label then click next\n    const firstLabel = document.querySelector<HTMLLabelElement>(\"label\");\n    if (firstLabel) {\n      simulateClick(firstLabel);\n      setTimeout(() => {\n        nextButton?.click();\n      }, 0);\n    }\n  }\n\n  function checkIfRedirect() {\n    let urlParams = new URLSearchParams(window.location.search);\n    let activeTab = urlParams.get(\"activeTab\");\n    if (activeTab === \"1\") {\n      // tabLinks[1].click();\n      // setTimeout(() => {\n      simulateClick(tabLinks[1]);\n      nextButton?.remove();\n      // }, 0);\n    }\n  }\n\n  function simulateClick(element: HTMLAnchorElement | HTMLLabelElement) {\n    // Add event listener that stops default actions.\n    element.addEventListener(\n      \"click\",\n      function (e) {\n        e.preventDefault();\n      },\n      false\n    );\n\n    let clickEvent = new MouseEvent(\"click\", {\n      view: window,\n      bubbles: true,\n      cancelable: false,\n    });\n\n    element.dispatchEvent(clickEvent);\n  }\n});\n"],
  "mappings": "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",
  "names": ["debug", "form", "wTabContent", "formContentPanes", "tabMenu", "tabLinks", "nextButton", "labels", "submitButton", "currentStep", "numberOfSteps", "formFields", "validateEmail", "value", "emailValidation", "checkInputValidity", "input", "type", "checked", "checkStepValidityAndRequired", "stepInputs", "isRequired", "isValid", "updateUI", "handleFormChange", "handleNextButtonClicked", "oncomingForm", "getFormData", "fData", "demoShape", "name", "email", "phone", "role", "calendlyButton", "formField", "firstLabel", "simulateClick", "checkIfRedirect", "element", "e", "clickEvent"]
}
